{"ast":null,"code":"var _jsxFileName = \"/Users/nate/Programming/UDelaWhere/src/components/ImageViewer360.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport * as THREE from 'three';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ViewerContainer = styled.div`\n  width: 100%;\n  height: 100%;\n  position: relative;\n`;\n_c = ViewerContainer;\nconst LoadingOverlay = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  font-size: 1.2rem;\n`;\n_c2 = LoadingOverlay;\nconst ErrorOverlay = styled(LoadingOverlay)`\n  background: rgba(220, 53, 69, 0.9);\n`;\n_c3 = ErrorOverlay;\nconst ControlsInfo = styled.div`\n  position: absolute;\n  top: 20px;\n  left: 20px;\n  background: rgba(0, 0, 0, 0.7);\n  color: white;\n  padding: 15px;\n  border-radius: 8px;\n  font-size: 0.9rem;\n  opacity: 0.8;\n  transition: opacity 0.3s;\n\n  &:hover {\n    opacity: 1;\n  }\n`;\n_c4 = ControlsInfo;\nconst ImageViewer360 = ({\n  objPath\n}) => {\n  _s();\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const containerRef = useRef(null);\n  const sceneRef = useRef(null);\n  const cameraRef = useRef(null);\n  const rendererRef = useRef(null);\n  const isMouseDown = useRef(false);\n  const mousePosition = useRef({\n    x: 0,\n    y: 0\n  });\n  const lonLatRef = useRef({\n    lon: 0,\n    lat: 0\n  });\n  useEffect(() => {\n    if (!containerRef.current) return;\n    setIsLoading(true);\n    setError(null);\n    try {\n      console.log('Initializing viewer with path:', objPath);\n\n      // Setup scene\n      const scene = new THREE.Scene();\n      sceneRef.current = scene;\n\n      // Setup camera\n      const camera = new THREE.PerspectiveCamera(75, containerRef.current.clientWidth / containerRef.current.clientHeight, 0.1, 1000);\n      camera.position.set(0, 0, 0);\n      cameraRef.current = camera;\n\n      // Setup renderer\n      const renderer = new THREE.WebGLRenderer({\n        antialias: true,\n        alpha: true\n      });\n      renderer.setSize(containerRef.current.clientWidth, containerRef.current.clientHeight);\n      renderer.setPixelRatio(window.devicePixelRatio);\n      renderer.outputColorSpace = THREE.SRGBColorSpace;\n      containerRef.current.appendChild(renderer.domElement);\n      rendererRef.current = renderer;\n\n      // Create skybox geometry\n      const skyboxGeo = new THREE.BoxGeometry(1000, 1000, 1000);\n\n      // Define the file names for each face of the skybox\n      const fileNames = ['posx.jpg',\n      // positive x\n      'negx.jpg',\n      // negative x\n      'posy.jpg',\n      // positive y\n      'negy.jpg',\n      // negative y\n      'posz.jpg',\n      // positive z\n      'negz.jpg' // negative z\n      ];\n\n      // Create materials array for the skybox\n      const materialArray = fileNames.map(fileName => {\n        const texture = new THREE.TextureLoader().load(`${objPath}${fileName}`, () => {\n          console.log(`Loaded texture: ${fileName}`);\n        }, undefined, err => {\n          console.error(`Error loading texture ${fileName}:`, err);\n          setError(`Failed to load texture: ${fileName}`);\n        });\n        texture.colorSpace = THREE.SRGBColorSpace;\n        return new THREE.MeshBasicMaterial({\n          map: texture,\n          side: THREE.BackSide\n        });\n      });\n      const skybox = new THREE.Mesh(skyboxGeo, materialArray);\n      scene.add(skybox);\n\n      // Set initial camera rotation to 180 degrees to fix orientation\n      camera.rotation.y = Math.PI;\n\n      // Animation loop\n      const animate = () => {\n        requestAnimationFrame(animate);\n        if (rendererRef.current && sceneRef.current && cameraRef.current) {\n          rendererRef.current.render(sceneRef.current, cameraRef.current);\n        }\n      };\n      animate();\n\n      // Handle window resize\n      const handleResize = () => {\n        if (!containerRef.current || !cameraRef.current || !rendererRef.current) return;\n        const camera = cameraRef.current;\n        const renderer = rendererRef.current;\n        camera.aspect = containerRef.current.clientWidth / containerRef.current.clientHeight;\n        camera.updateProjectionMatrix();\n        renderer.setSize(containerRef.current.clientWidth, containerRef.current.clientHeight);\n      };\n      window.addEventListener('resize', handleResize);\n\n      // Mouse controls for looking around\n      const handleMouseMove = e => {\n        if (!isMouseDown.current || !cameraRef.current) return;\n        const camera = cameraRef.current;\n        const deltaX = e.clientX - mousePosition.current.x;\n        const deltaY = e.clientY - mousePosition.current.y;\n\n        // Update rotation with improved sensitivity\n        lonLatRef.current.lon -= deltaX * 0.3; // Reverted back to original\n        lonLatRef.current.lat = Math.max(-89, Math.min(89, lonLatRef.current.lat + deltaY * 0.3));\n        const phi = THREE.MathUtils.degToRad(90 - lonLatRef.current.lat);\n        const theta = THREE.MathUtils.degToRad(lonLatRef.current.lon);\n        const x = Math.sin(phi) * Math.cos(theta); // Reverted back to original\n        const y = Math.cos(phi);\n        const z = Math.sin(phi) * Math.sin(theta); // Reverted back to original\n\n        camera.lookAt(new THREE.Vector3(x, y, z));\n        mousePosition.current = {\n          x: e.clientX,\n          y: e.clientY\n        };\n      };\n      const handleMouseDown = e => {\n        isMouseDown.current = true;\n        mousePosition.current = {\n          x: e.clientX,\n          y: e.clientY\n        };\n      };\n      const handleMouseUp = () => {\n        isMouseDown.current = false;\n      };\n\n      // Touch controls\n      const handleTouchMove = e => {\n        if (!isMouseDown.current || !cameraRef.current) return;\n        const camera = cameraRef.current;\n        const deltaX = e.touches[0].clientX - mousePosition.current.x;\n        const deltaY = e.touches[0].clientY - mousePosition.current.y;\n\n        // Update rotation with improved sensitivity\n        lonLatRef.current.lon -= deltaX * 0.3; // Reverted back to original\n        lonLatRef.current.lat = Math.max(-89, Math.min(89, lonLatRef.current.lat + deltaY * 0.3));\n        const phi = THREE.MathUtils.degToRad(90 - lonLatRef.current.lat);\n        const theta = THREE.MathUtils.degToRad(lonLatRef.current.lon);\n        const x = Math.sin(phi) * Math.cos(theta); // Reverted back to original\n        const y = Math.cos(phi);\n        const z = Math.sin(phi) * Math.sin(theta); // Reverted back to original\n\n        camera.lookAt(new THREE.Vector3(x, y, z));\n        mousePosition.current = {\n          x: e.touches[0].clientX,\n          y: e.touches[0].clientY\n        };\n      };\n      const handleTouchStart = e => {\n        isMouseDown.current = true;\n        mousePosition.current = {\n          x: e.touches[0].clientX,\n          y: e.touches[0].clientY\n        };\n      };\n      const handleTouchEnd = () => {\n        isMouseDown.current = false;\n      };\n\n      // Add event listeners\n      containerRef.current.addEventListener('mousedown', handleMouseDown);\n      window.addEventListener('mouseup', handleMouseUp);\n      window.addEventListener('mousemove', handleMouseMove);\n      containerRef.current.addEventListener('touchstart', handleTouchStart);\n      window.addEventListener('touchend', handleTouchEnd);\n      window.addEventListener('touchmove', handleTouchMove);\n\n      // Set loading to false after a short delay to ensure textures are loaded\n      setTimeout(() => {\n        setIsLoading(false);\n      }, 1000);\n\n      // Cleanup\n      return () => {\n        var _containerRef$current, _containerRef$current2, _rendererRef$current;\n        window.removeEventListener('resize', handleResize);\n        (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : _containerRef$current.removeEventListener('mousedown', handleMouseDown);\n        window.removeEventListener('mouseup', handleMouseUp);\n        window.removeEventListener('mousemove', handleMouseMove);\n        (_containerRef$current2 = containerRef.current) === null || _containerRef$current2 === void 0 ? void 0 : _containerRef$current2.removeEventListener('touchstart', handleTouchStart);\n        window.removeEventListener('touchend', handleTouchEnd);\n        window.removeEventListener('touchmove', handleTouchMove);\n        if ((_rendererRef$current = rendererRef.current) !== null && _rendererRef$current !== void 0 && _rendererRef$current.domElement) {\n          rendererRef.current.domElement.remove();\n        }\n      };\n    } catch (err) {\n      console.error('Error setting up ImageViewer360:', err);\n      setError(typeof err === 'string' ? err : 'Failed to initialize viewer');\n      setIsLoading(false);\n    }\n  }, [objPath]);\n  return /*#__PURE__*/_jsxDEV(ViewerContainer, {\n    ref: containerRef,\n    children: [isLoading && /*#__PURE__*/_jsxDEV(LoadingOverlay, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading skybox textures...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Check console for progress\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(ErrorOverlay, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Check browser console for details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ControlsInfo, {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Controls:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Click and drag to look around\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Touch and drag on mobile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 259,\n    columnNumber: 5\n  }, this);\n};\n_s(ImageViewer360, \"wAIk2VZguzIBprVb42sTKu6sTVQ=\");\n_c5 = ImageViewer360;\nexport default ImageViewer360;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"ViewerContainer\");\n$RefreshReg$(_c2, \"LoadingOverlay\");\n$RefreshReg$(_c3, \"ErrorOverlay\");\n$RefreshReg$(_c4, \"ControlsInfo\");\n$RefreshReg$(_c5, \"ImageViewer360\");","map":{"version":3,"names":["React","useEffect","useRef","useState","THREE","styled","jsxDEV","_jsxDEV","ViewerContainer","div","_c","LoadingOverlay","_c2","ErrorOverlay","_c3","ControlsInfo","_c4","ImageViewer360","objPath","_s","isLoading","setIsLoading","error","setError","containerRef","sceneRef","cameraRef","rendererRef","isMouseDown","mousePosition","x","y","lonLatRef","lon","lat","current","console","log","scene","Scene","camera","PerspectiveCamera","clientWidth","clientHeight","position","set","renderer","WebGLRenderer","antialias","alpha","setSize","setPixelRatio","window","devicePixelRatio","outputColorSpace","SRGBColorSpace","appendChild","domElement","skyboxGeo","BoxGeometry","fileNames","materialArray","map","fileName","texture","TextureLoader","load","undefined","err","colorSpace","MeshBasicMaterial","side","BackSide","skybox","Mesh","add","rotation","Math","PI","animate","requestAnimationFrame","render","handleResize","aspect","updateProjectionMatrix","addEventListener","handleMouseMove","e","deltaX","clientX","deltaY","clientY","max","min","phi","MathUtils","degToRad","theta","sin","cos","z","lookAt","Vector3","handleMouseDown","handleMouseUp","handleTouchMove","touches","handleTouchStart","handleTouchEnd","setTimeout","_containerRef$current","_containerRef$current2","_rendererRef$current","removeEventListener","remove","ref","children","_jsxFileName","lineNumber","columnNumber","_c5","$RefreshReg$"],"sources":["/Users/nate/Programming/UDelaWhere/src/components/ImageViewer360.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport * as THREE from 'three';\nimport styled from 'styled-components';\n\nconst ViewerContainer = styled.div`\n  width: 100%;\n  height: 100%;\n  position: relative;\n`;\n\nconst LoadingOverlay = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  font-size: 1.2rem;\n`;\n\nconst ErrorOverlay = styled(LoadingOverlay)`\n  background: rgba(220, 53, 69, 0.9);\n`;\n\nconst ControlsInfo = styled.div`\n  position: absolute;\n  top: 20px;\n  left: 20px;\n  background: rgba(0, 0, 0, 0.7);\n  color: white;\n  padding: 15px;\n  border-radius: 8px;\n  font-size: 0.9rem;\n  opacity: 0.8;\n  transition: opacity 0.3s;\n\n  &:hover {\n    opacity: 1;\n  }\n`;\n\ninterface ImageViewer360Props {\n  objPath: string;\n}\n\nconst ImageViewer360: React.FC<ImageViewer360Props> = ({ objPath }) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  \n  const containerRef = useRef<HTMLDivElement>(null);\n  const sceneRef = useRef<THREE.Scene | null>(null);\n  const cameraRef = useRef<THREE.PerspectiveCamera | null>(null);\n  const rendererRef = useRef<THREE.WebGLRenderer | null>(null);\n  const isMouseDown = useRef(false);\n  const mousePosition = useRef({ x: 0, y: 0 });\n  const lonLatRef = useRef({ lon: 0, lat: 0 });\n\n  useEffect(() => {\n    if (!containerRef.current) return;\n\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      console.log('Initializing viewer with path:', objPath);\n\n      // Setup scene\n      const scene = new THREE.Scene();\n      sceneRef.current = scene;\n\n      // Setup camera\n      const camera = new THREE.PerspectiveCamera(\n        75,\n        containerRef.current.clientWidth / containerRef.current.clientHeight,\n        0.1,\n        1000\n      );\n      camera.position.set(0, 0, 0);\n      cameraRef.current = camera;\n\n      // Setup renderer\n      const renderer = new THREE.WebGLRenderer({ \n        antialias: true,\n        alpha: true\n      });\n      renderer.setSize(containerRef.current.clientWidth, containerRef.current.clientHeight);\n      renderer.setPixelRatio(window.devicePixelRatio);\n      renderer.outputColorSpace = THREE.SRGBColorSpace;\n      containerRef.current.appendChild(renderer.domElement);\n      rendererRef.current = renderer;\n\n      // Create skybox geometry\n      const skyboxGeo = new THREE.BoxGeometry(1000, 1000, 1000);\n\n      // Define the file names for each face of the skybox\n      const fileNames = [\n        'posx.jpg',  // positive x\n        'negx.jpg',  // negative x\n        'posy.jpg',  // positive y\n        'negy.jpg',  // negative y\n        'posz.jpg',  // positive z\n        'negz.jpg'   // negative z\n      ];\n\n      // Create materials array for the skybox\n      const materialArray = fileNames.map(fileName => {\n        const texture = new THREE.TextureLoader().load(\n          `${objPath}${fileName}`,\n          () => {\n            console.log(`Loaded texture: ${fileName}`);\n          },\n          undefined,\n          (err) => {\n            console.error(`Error loading texture ${fileName}:`, err);\n            setError(`Failed to load texture: ${fileName}`);\n          }\n        );\n        texture.colorSpace = THREE.SRGBColorSpace;\n        return new THREE.MeshBasicMaterial({\n          map: texture,\n          side: THREE.BackSide\n        });\n      });\n\n      const skybox = new THREE.Mesh(skyboxGeo, materialArray);\n      scene.add(skybox);\n\n      // Set initial camera rotation to 180 degrees to fix orientation\n      camera.rotation.y = Math.PI;\n\n      // Animation loop\n      const animate = () => {\n        requestAnimationFrame(animate);\n        if (rendererRef.current && sceneRef.current && cameraRef.current) {\n          rendererRef.current.render(sceneRef.current, cameraRef.current);\n        }\n      };\n      animate();\n\n      // Handle window resize\n      const handleResize = () => {\n        if (!containerRef.current || !cameraRef.current || !rendererRef.current) return;\n        \n        const camera = cameraRef.current;\n        const renderer = rendererRef.current;\n        \n        camera.aspect = containerRef.current.clientWidth / containerRef.current.clientHeight;\n        camera.updateProjectionMatrix();\n        renderer.setSize(containerRef.current.clientWidth, containerRef.current.clientHeight);\n      };\n      window.addEventListener('resize', handleResize);\n\n      // Mouse controls for looking around\n      const handleMouseMove = (e: MouseEvent) => {\n        if (!isMouseDown.current || !cameraRef.current) return;\n\n        const camera = cameraRef.current;\n        const deltaX = e.clientX - mousePosition.current.x;\n        const deltaY = e.clientY - mousePosition.current.y;\n\n        // Update rotation with improved sensitivity\n        lonLatRef.current.lon -= deltaX * 0.3; // Reverted back to original\n        lonLatRef.current.lat = Math.max(-89, Math.min(89, lonLatRef.current.lat + deltaY * 0.3));\n\n        const phi = THREE.MathUtils.degToRad(90 - lonLatRef.current.lat);\n        const theta = THREE.MathUtils.degToRad(lonLatRef.current.lon);\n\n        const x = Math.sin(phi) * Math.cos(theta); // Reverted back to original\n        const y = Math.cos(phi);\n        const z = Math.sin(phi) * Math.sin(theta); // Reverted back to original\n\n        camera.lookAt(new THREE.Vector3(x, y, z));\n\n        mousePosition.current = { x: e.clientX, y: e.clientY };\n      };\n\n      const handleMouseDown = (e: MouseEvent) => {\n        isMouseDown.current = true;\n        mousePosition.current = { x: e.clientX, y: e.clientY };\n      };\n\n      const handleMouseUp = () => {\n        isMouseDown.current = false;\n      };\n\n      // Touch controls\n      const handleTouchMove = (e: TouchEvent) => {\n        if (!isMouseDown.current || !cameraRef.current) return;\n\n        const camera = cameraRef.current;\n        const deltaX = e.touches[0].clientX - mousePosition.current.x;\n        const deltaY = e.touches[0].clientY - mousePosition.current.y;\n\n        // Update rotation with improved sensitivity\n        lonLatRef.current.lon -= deltaX * 0.3; // Reverted back to original\n        lonLatRef.current.lat = Math.max(-89, Math.min(89, lonLatRef.current.lat + deltaY * 0.3));\n\n        const phi = THREE.MathUtils.degToRad(90 - lonLatRef.current.lat);\n        const theta = THREE.MathUtils.degToRad(lonLatRef.current.lon);\n\n        const x = Math.sin(phi) * Math.cos(theta); // Reverted back to original\n        const y = Math.cos(phi);\n        const z = Math.sin(phi) * Math.sin(theta); // Reverted back to original\n\n        camera.lookAt(new THREE.Vector3(x, y, z));\n\n        mousePosition.current = { x: e.touches[0].clientX, y: e.touches[0].clientY };\n      };\n\n      const handleTouchStart = (e: TouchEvent) => {\n        isMouseDown.current = true;\n        mousePosition.current = { x: e.touches[0].clientX, y: e.touches[0].clientY };\n      };\n\n      const handleTouchEnd = () => {\n        isMouseDown.current = false;\n      };\n\n      // Add event listeners\n      containerRef.current.addEventListener('mousedown', handleMouseDown);\n      window.addEventListener('mouseup', handleMouseUp);\n      window.addEventListener('mousemove', handleMouseMove);\n      containerRef.current.addEventListener('touchstart', handleTouchStart);\n      window.addEventListener('touchend', handleTouchEnd);\n      window.addEventListener('touchmove', handleTouchMove);\n\n      // Set loading to false after a short delay to ensure textures are loaded\n      setTimeout(() => {\n        setIsLoading(false);\n      }, 1000);\n\n      // Cleanup\n      return () => {\n        window.removeEventListener('resize', handleResize);\n        containerRef.current?.removeEventListener('mousedown', handleMouseDown);\n        window.removeEventListener('mouseup', handleMouseUp);\n        window.removeEventListener('mousemove', handleMouseMove);\n        containerRef.current?.removeEventListener('touchstart', handleTouchStart);\n        window.removeEventListener('touchend', handleTouchEnd);\n        window.removeEventListener('touchmove', handleTouchMove);\n        \n        if (rendererRef.current?.domElement) {\n          rendererRef.current.domElement.remove();\n        }\n      };\n    } catch (err) {\n      console.error('Error setting up ImageViewer360:', err);\n      setError(typeof err === 'string' ? err : 'Failed to initialize viewer');\n      setIsLoading(false);\n    }\n  }, [objPath]);\n\n  return (\n    <ViewerContainer ref={containerRef}>\n      {isLoading && (\n        <LoadingOverlay>\n          <p>Loading skybox textures...</p>\n          <p>Check console for progress</p>\n        </LoadingOverlay>\n      )}\n      {error && (\n        <ErrorOverlay>\n          <p>{error}</p>\n          <p>Check browser console for details</p>\n        </ErrorOverlay>\n      )}\n      <ControlsInfo>\n        <h4>Controls:</h4>\n        <ul>\n          <li>Click and drag to look around</li>\n          <li>Touch and drag on mobile</li>\n        </ul>\n      </ControlsInfo>\n    </ViewerContainer>\n  );\n};\n\nexport default ImageViewer360; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}