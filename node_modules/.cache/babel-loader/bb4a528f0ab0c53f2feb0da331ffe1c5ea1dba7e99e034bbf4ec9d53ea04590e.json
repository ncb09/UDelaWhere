{"ast":null,"code":"var _jsxFileName = \"/Users/nate/Programming/UDelaWhere/src/components/Game.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { MapContainer, TileLayer, Marker, Popup, useMap, Polyline } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport styled, { keyframes } from 'styled-components';\nimport L from 'leaflet';\nimport ImageViewer360 from './ImageViewer360';\n\n// Fix for default marker icons in React-Leaflet\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\nconst fadeIn = keyframes`\n  from { opacity: 0; }\n  to { opacity: 1; }\n`;\nconst slideUp = keyframes`\n  from { transform: translateY(20px); opacity: 0; }\n  to { transform: translateY(0); opacity: 1; }\n`;\nconst Button = styled.button`\n  padding: 16px 40px;\n  background: #FFD200;\n  color: #00539F;\n  border: none;\n  border-radius: 30px;\n  cursor: pointer;\n  font-size: 18px;\n  font-weight: 700;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  box-shadow: 0 4px 20px rgba(255, 210, 0, 0.3);\n\n  &:hover:not(:disabled) {\n    background: #FFE04C;\n    transform: translateY(-2px);\n    box-shadow: 0 8px 30px rgba(255, 210, 0, 0.4);\n  }\n\n  &:disabled {\n    background: rgba(255, 255, 255, 0.1);\n    color: rgba(255, 255, 255, 0.4);\n    cursor: not-allowed;\n    transform: none;\n    box-shadow: none;\n  }\n`;\n_c = Button;\nconst GameContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: #001B3D;\n  color: white;\n  font-family: 'Proxima Nova', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n  position: relative;\n`;\n_c2 = GameContainer;\nconst Timer = styled.div`\n  position: fixed;\n  top: 100px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: rgba(0, 27, 61, 0.85);\n  padding: 15px 30px;\n  border-radius: 20px;\n  border: 2px solid rgba(255, 210, 0, 0.3);\n  backdrop-filter: blur(10px);\n  z-index: 1001;\n  animation: ${fadeIn} 0.5s ease-out;\n  text-align: center;\n  pointer-events: none;\n  \n  .time {\n    font-size: 2.5em;\n    font-weight: 800;\n    color: #FFD200;\n    letter-spacing: 2px;\n    text-shadow: 0 2px 4px rgba(0,0,0,0.3);\n  }\n  \n  .label {\n    font-size: 0.9em;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    opacity: 0.8;\n    margin-bottom: 5px;\n  }\n`;\n_c3 = Timer;\nconst GameStats = styled.div`\n  position: fixed;\n  top: 100px;\n  right: 40px;\n  background: rgba(0, 27, 61, 0.85);\n  padding: 15px 30px;\n  border-radius: 20px;\n  border: 2px solid rgba(255, 210, 0, 0.3);\n  backdrop-filter: blur(10px);\n  z-index: 1001;\n  animation: ${fadeIn} 0.5s ease-out;\n  pointer-events: none;\n\n  .stat {\n    text-align: right;\n    margin: 8px 0;\n  }\n\n  .label {\n    font-size: 0.9em;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    opacity: 0.8;\n  }\n\n  .value {\n    font-size: 1.4em;\n    font-weight: 800;\n    color: #FFD200;\n    letter-spacing: 1px;\n    text-shadow: 0 2px 4px rgba(0,0,0,0.3);\n  }\n`;\n_c4 = GameStats;\nconst Header = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 80px;\n  background: linear-gradient(to bottom, rgba(0,27,61,0.95) 0%, rgba(0,27,61,0) 100%);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 40px;\n  z-index: 2500;\n  pointer-events: auto;\n\n  h1 {\n    color: #FFD200;\n    font-size: 28px;\n    font-weight: 700;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    margin: 0;\n    text-shadow: 0 2px 4px rgba(0,0,0,0.5);\n    animation: ${fadeIn} 0.5s ease-out;\n    cursor: pointer;\n  }\n\n  nav {\n    display: flex;\n    gap: 30px;\n    align-items: center;\n  }\n\n  a {\n    color: white;\n    text-decoration: none;\n    font-size: 18px;\n    font-weight: 600;\n    transition: color 0.3s ease;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    cursor: pointer;\n\n    &:hover {\n      color: #FFD200;\n    }\n  }\n`;\n_c5 = Header;\nconst CloseButton = styled.button`\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  width: 32px;\n  height: 32px;\n  background: rgba(0, 27, 61, 0.85);\n  border: none;\n  border-radius: 50%;\n  color: white;\n  font-size: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  opacity: 0;\n  transform: translateX(20px);\n  transition: all 0.3s ease;\n  z-index: 1002;\n  backdrop-filter: blur(5px);\n\n  &:hover {\n    background: #00539F;\n  }\n`;\n_c6 = CloseButton;\nconst MapWrapper = styled.div`\n  position: fixed;\n  bottom: 120px;\n  right: 40px;\n  width: ${props => props.isExpanded ? 'calc(100% - 80px)' : '400px'};\n  height: ${props => props.isExpanded ? 'calc(100vh - 300px)' : '250px'};\n  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n  z-index: 1000;\n  border-radius: 12px;\n  overflow: hidden;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n  transform-origin: bottom right;\n  border: 2px solid ${props => props.isExpanded ? '#FFD200' : 'rgba(255, 210, 0, 0.3)'};\n\n  &:hover {\n    width: calc(100% - 80px);\n    height: calc(100vh - 300px);\n    transform: scale(1);\n    border-color: #FFD200;\n\n    ${CloseButton}, .leaflet-control-zoom {\n      opacity: 1;\n      transform: translateX(0);\n    }\n  }\n\n  .leaflet-container {\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n    background: #1a1a1a;\n  }\n\n  .leaflet-control-container {\n    z-index: 2;\n  }\n\n  .leaflet-control-zoom {\n    margin: 15px;\n    opacity: 0;\n    transform: translateX(20px);\n    transition: all 0.3s ease;\n    \n    a {\n      background: rgba(0, 83, 159, 0.9);\n      color: white;\n      border: none;\n      \n      &:hover {\n        background: #00539F;\n      }\n    }\n  }\n`;\n_c7 = MapWrapper;\nconst ImageViewer = styled.div`\n  flex: 1;\n  background: #000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  overflow: hidden;\n  pointer-events: auto;\n\n  &:after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 200px;\n    background: linear-gradient(to top, rgba(0,27,61,0.9) 0%, rgba(0,27,61,0) 100%);\n    pointer-events: none;\n  }\n`;\n_c8 = ImageViewer;\nconst ScoreOverlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 27, 61, 0.98);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  opacity: ${props => props.isVisible ? 1 : 0};\n  visibility: ${props => props.isVisible ? 'visible' : 'hidden'};\n  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n  z-index: 2000;\n  padding: 40px;\n  backdrop-filter: blur(10px);\n`;\n_c9 = ScoreOverlay;\nconst ResultInfo = styled.div`\n  text-align: center;\n  color: white;\n  margin-bottom: 30px;\n  animation: ${slideUp} 0.5s ease-out;\n\n  h2 {\n    color: #FFD200;\n    font-size: 3em;\n    margin-bottom: 0.5em;\n    font-weight: 800;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);\n  }\n\n  p {\n    font-size: 1.4em;\n    margin: 0.8em 0;\n    opacity: 0.9;\n  }\n`;\n_c10 = ResultInfo;\nconst ResultMapContainer = styled.div`\n  width: 85%;\n  height: 65%;\n  margin: 30px 0;\n  border-radius: 16px;\n  overflow: hidden;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);\n  border: 3px solid #FFD200;\n  animation: ${slideUp} 0.7s ease-out;\n  position: relative;\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 100px;\n    background: linear-gradient(to bottom, rgba(0,83,159,0.4) 0%, rgba(0,83,159,0) 100%);\n    pointer-events: none;\n    z-index: 1;\n  }\n`;\n_c11 = ResultMapContainer;\nconst ScoreText = styled.div`\n  font-size: 3.5em;\n  font-weight: 800;\n  color: #FFD200;\n  margin: 25px 0;\n  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);\n  animation: ${fadeIn} 0.8s ease-out;\n  letter-spacing: 2px;\n`;\n_c12 = ScoreText;\nconst UserModal = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 27, 61, 0.98);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  opacity: ${props => props.isVisible ? 1 : 0};\n  visibility: ${props => props.isVisible ? 'visible' : 'hidden'};\n  transition: all 0.3s ease;\n  z-index: 3000;\n  backdrop-filter: blur(10px);\n`;\n_c13 = UserModal;\nconst UserForm = styled.div`\n  background: rgba(255, 255, 255, 0.05);\n  padding: 40px;\n  border-radius: 16px;\n  text-align: center;\n  animation: ${fadeIn} 0.5s ease-out;\n  border: 2px solid rgba(255, 210, 0, 0.3);\n  max-width: 400px;\n  width: 90%;\n\n  h2 {\n    color: #FFD200;\n    font-size: 2em;\n    margin-bottom: 1em;\n  }\n\n  p {\n    margin-bottom: 2em;\n    opacity: 0.8;\n    line-height: 1.6;\n  }\n`;\n_c14 = UserForm;\nconst Input = styled.input`\n  width: 100%;\n  padding: 12px 20px;\n  margin-bottom: 20px;\n  border: 2px solid rgba(255, 210, 0, 0.3);\n  border-radius: 8px;\n  background: rgba(255, 255, 255, 0.1);\n  color: white;\n  font-size: 16px;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: #FFD200;\n    background: rgba(255, 255, 255, 0.15);\n  }\n\n  &::placeholder {\n    color: rgba(255, 255, 255, 0.5);\n  }\n`;\n_c15 = Input;\nconst GameEndScreen = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 27, 61, 0.98);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 3000;\n  backdrop-filter: blur(10px);\n`;\n_c16 = GameEndScreen;\nconst EndScreenContent = styled.div`\n  text-align: center;\n  animation: ${slideUp} 0.7s ease-out;\n  max-width: 600px;\n  width: 90%;\n  padding: 40px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 20px;\n  border: 2px solid rgba(255, 210, 0, 0.3);\n\n  h1 {\n    color: #FFD200;\n    font-size: 3.5em;\n    margin-bottom: 0.5em;\n    font-weight: 800;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);\n  }\n\n  p {\n    font-size: 1.4em;\n    margin: 0.8em 0;\n    opacity: 0.9;\n    color: white;\n  }\n`;\n_c17 = EndScreenContent;\nconst ButtonGroup = styled.div`\n  display: flex;\n  gap: 20px;\n  margin-top: 40px;\n  justify-content: center;\n`;\n_c18 = ButtonGroup;\nconst NavigationButton = styled(Button)`\n  min-width: 200px;\n`;\n_c19 = NavigationButton;\nconst GuessButton = styled(Button)`\n  position: fixed;\n  bottom: 40px;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 18px 50px;\n  font-size: 20px;\n  z-index: 999;\n  background: rgba(255, 210, 0, 0.9);\n  backdrop-filter: blur(10px);\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover:not(:disabled) {\n    background: #FFD200;\n    transform: translateX(-50%) translateY(-4px);\n    box-shadow: 0 8px 30px rgba(255, 210, 0, 0.4);\n  }\n\n  &:disabled {\n    background: rgba(255, 255, 255, 0.1);\n    transform: translateX(-50%);\n  }\n`;\n_c20 = GuessButton;\n// Add this new component for handling map clicks\nconst MapEvents = ({\n  onClick\n}) => {\n  _s();\n  const map = useMap();\n  useEffect(() => {\n    map.on('click', onClick);\n    return () => {\n      map.off('click', onClick);\n    };\n  }, [map, onClick]);\n  return null;\n};\n\n// Add this new hook for handling map resize\n_s(MapEvents, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c21 = MapEvents;\nconst MapResizer = () => {\n  _s2();\n  const map = useMap();\n  useEffect(() => {\n    const resizeObserver = new ResizeObserver(() => {\n      map.invalidateSize();\n    });\n    const container = map.getContainer();\n    resizeObserver.observe(container);\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [map]);\n  return null;\n};\n\n// Update this with your actual OBJ file path and coordinates\n_s2(MapResizer, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c22 = MapResizer;\nconst sampleLocations = [{\n  image: '/locations/2_27_2025/skybox/',\n  coordinates: [39.686757, -75.755243] // Memorial Hall\n}, {\n  image: '/locations/2_27_2025/skybox/',\n  coordinates: [39.686757, -75.755243] // Memorial Hall\n}, {\n  image: '/locations/2_27_2025/skybox/',\n  coordinates: [39.686757, -75.755243] // Memorial Hall\n}, {\n  image: '/locations/2_27_2025/skybox/',\n  coordinates: [39.686757, -75.755243] // Memorial Hall\n}, {\n  image: '/locations/2_27_2025/skybox/',\n  coordinates: [39.686757, -75.755243] // Memorial Hall\n}];\nconst Game = () => {\n  _s3();\n  const {\n    mode\n  } = useParams();\n  const navigate = useNavigate();\n  const [gameState, setGameState] = useState({\n    currentRound: 1,\n    score: 0,\n    selectedLocation: null,\n    timeRemaining: mode === 'challenge' ? 120 : null,\n    locations: sampleLocations,\n    showingResult: false,\n    lastGuessScore: 0,\n    lastGuessDistance: 0,\n    pastGuesses: [],\n    username: localStorage.getItem('username'),\n    showUsernameModal: false,\n    gameEnded: false\n  });\n  const [isMapExpanded, setIsMapExpanded] = useState(false);\n  useEffect(() => {\n    // Check if we need to show the username modal\n    if (mode === 'challenge' && !gameState.username) {\n      setGameState(prev => ({\n        ...prev,\n        showUsernameModal: true\n      }));\n    }\n  }, [mode, gameState.username]);\n  const handleUsernameSubmit = event => {\n    event.preventDefault();\n    const username = event.currentTarget.elements.namedItem('username').value.trim();\n    if (username) {\n      localStorage.setItem('username', username);\n      setGameState(prev => ({\n        ...prev,\n        username,\n        showUsernameModal: false\n      }));\n    }\n  };\n  const submitScore = finalScore => {\n    if (mode === 'challenge' && gameState.username) {\n      const leaderboardEntry = {\n        username: gameState.username,\n        score: finalScore,\n        timestamp: Date.now()\n      };\n\n      // Get existing leaderboard\n      const existingLeaderboard = JSON.parse(localStorage.getItem('leaderboard') || '[]');\n\n      // Add new score\n      existingLeaderboard.push(leaderboardEntry);\n\n      // Sort by score (highest first)\n      const sortedLeaderboard = existingLeaderboard.sort((a, b) => b.score - a.score)\n      // Remove duplicates (keep highest score for each user)\n      .filter((entry, index, self) => index === self.findIndex(t => t.username === entry.username)).slice(0, 10);\n\n      // Save back to localStorage\n      localStorage.setItem('leaderboard', JSON.stringify(sortedLeaderboard));\n    }\n  };\n  const handleMapClick = e => {\n    if (!gameState.showingResult) {\n      setGameState(prev => ({\n        ...prev,\n        selectedLocation: [e.latlng.lat, e.latlng.lng]\n      }));\n    }\n  };\n  const calculateDistance = (point1, point2) => {\n    const R = 3959; // Earth's radius in miles\n    const φ1 = point1[0] * Math.PI / 180;\n    const φ2 = point2[0] * Math.PI / 180;\n    const Δφ = (point2[0] - point1[0]) * Math.PI / 180;\n    const Δλ = (point2[1] - point1[1]) * Math.PI / 180;\n    const a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) + Math.cos(φ1) * Math.cos(φ2) * Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n    // Return distance in feet (multiply miles by 5280)\n    return R * c * 5280;\n  };\n  const handleGuess = () => {\n    if (!gameState.selectedLocation) return;\n    const currentLocation = gameState.locations[gameState.currentRound - 1];\n    const distance = calculateDistance(gameState.selectedLocation, currentLocation.coordinates);\n\n    // Super generous scoring formula with feet measurements:\n    // - Extremely close (< 50 feet): 4900-5000 points\n    // - Very close (< 100 feet): 4500-4900 points\n    // - Close (< 200 feet): 4000-4500 points\n    // - Nearby (< 500 feet): 3000-4000 points\n    // - In the area (< 1000 feet): 2000-3000 points\n    // - Far but trying (any distance): 1000 points minimum\n    let points = 1000; // Minimum points for trying - increased base points\n\n    if (distance <= 1000) {\n      if (distance <= 50) {\n        // Super generous curve for very close guesses\n        points = 4900 + 100 * Math.pow(1 - distance / 50, 1.2);\n      } else if (distance <= 100) {\n        points = 4500 + 400 * (1 - Math.pow((distance - 50) / 50, 1.2));\n      } else if (distance <= 200) {\n        points = 4000 + 500 * (1 - Math.pow((distance - 100) / 100, 1.2));\n      } else if (distance <= 500) {\n        points = 3000 + 1000 * (1 - Math.pow((distance - 200) / 300, 1.2));\n      } else {\n        points = 2000 + 1000 * (1 - Math.pow((distance - 500) / 500, 1.2));\n      }\n    }\n    points = Math.max(1000, Math.round(points));\n    const newGuess = {\n      guessed: gameState.selectedLocation,\n      actual: currentLocation.coordinates,\n      round: gameState.currentRound\n    };\n    setGameState(prev => ({\n      ...prev,\n      score: prev.score + points,\n      showingResult: true,\n      lastGuessScore: points,\n      lastGuessDistance: Number(distance.toFixed(0)),\n      pastGuesses: [...prev.pastGuesses, newGuess]\n    }));\n  };\n  const handleNextRound = () => {\n    if (gameState.currentRound === 5) {\n      // Game is complete, submit score and show end screen\n      submitScore(gameState.score);\n      setGameState(prev => ({\n        ...prev,\n        gameEnded: true,\n        showingResult: false\n      }));\n      return;\n    }\n    setGameState(prev => ({\n      ...prev,\n      currentRound: prev.currentRound + 1,\n      selectedLocation: null,\n      showingResult: false,\n      timeRemaining: mode === 'challenge' ? 120 : null\n    }));\n  };\n  useEffect(() => {\n    let timer;\n    if (mode === 'challenge' && gameState.timeRemaining !== null) {\n      // Clear any existing timer\n      if (timer) clearInterval(timer);\n      timer = setInterval(() => {\n        setGameState(prev => {\n          if (prev.timeRemaining === null || prev.timeRemaining <= 0) {\n            clearInterval(timer);\n            // Auto-submit guess when time runs out\n            if (!prev.showingResult && prev.selectedLocation) {\n              handleGuess();\n            }\n            return prev;\n          }\n          return {\n            ...prev,\n            timeRemaining: prev.timeRemaining - 1\n          };\n        });\n      }, 1000);\n      return () => {\n        if (timer) clearInterval(timer);\n      };\n    }\n  }, [mode, gameState.currentRound, gameState.timeRemaining]);\n  const handleMapToggle = () => {\n    setIsMapExpanded(!isMapExpanded);\n  };\n  return /*#__PURE__*/_jsxDEV(GameContainer, {\n    children: gameState.gameEnded ? /*#__PURE__*/_jsxDEV(GameEndScreen, {\n      children: /*#__PURE__*/_jsxDEV(EndScreenContent, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Game Complete!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 782,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Your Final Score: \", gameState.score]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 783,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Maximum Possible: 25,000\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 784,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Accuracy: \", Math.round(gameState.score / 25000 * 100), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 785,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n          children: [/*#__PURE__*/_jsxDEV(NavigationButton, {\n            onClick: () => navigate('/'),\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 787,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(NavigationButton, {\n            onClick: () => navigate('/leaderboard'),\n            children: \"Leaderboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 790,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 786,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 781,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 780,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(UserModal, {\n        isVisible: gameState.showUsernameModal,\n        children: /*#__PURE__*/_jsxDEV(UserForm, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Welcome to Challenge Mode\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 800,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Please enter your username to compete on the leaderboard.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 801,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleUsernameSubmit,\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              type: \"text\",\n              name: \"username\",\n              placeholder: \"Enter your username\",\n              maxLength: 20,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 803,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              children: \"Start Game\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 802,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 799,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 798,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Header, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          onClick: () => navigate('/'),\n          children: \"Campus Guesser\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 815,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            onClick: () => navigate('/about'),\n            children: \"About\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 817,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            onClick: () => navigate('/leaderboard'),\n            children: \"Leaderboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 818,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 816,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 814,\n        columnNumber: 11\n      }, this), mode === 'challenge' && gameState.timeRemaining !== null && /*#__PURE__*/_jsxDEV(Timer, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"label\",\n          children: \"Time Remaining\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 823,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"time\",\n          children: [Math.floor(gameState.timeRemaining / 60), \":\", (gameState.timeRemaining % 60).toString().padStart(2, '0')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 824,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 822,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GameStats, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"label\",\n            children: \"Round\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 832,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"value\",\n            children: [gameState.currentRound, \"/5\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 833,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 831,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"label\",\n            children: \"Total Score\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 836,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"value\",\n            children: gameState.score\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 837,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 835,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 830,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ImageViewer, {\n        children: /*#__PURE__*/_jsxDEV(ImageViewer360, {\n          objPath: gameState.locations[gameState.currentRound - 1].image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 841,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 840,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MapWrapper, {\n        isExpanded: isMapExpanded,\n        children: [/*#__PURE__*/_jsxDEV(CloseButton, {\n          onClick: e => {\n            e.stopPropagation();\n            handleMapToggle();\n          },\n          style: {\n            opacity: isMapExpanded ? 1 : 0\n          },\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 845,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n          center: [39.686757, -75.755243],\n          zoom: 15,\n          style: {\n            height: '100%',\n            width: '100%'\n          },\n          maxZoom: 19,\n          minZoom: 13,\n          maxBounds: [[39.666, -75.78],\n          // Expanded southwest corner\n          [39.706, -75.73] // Expanded northeast corner\n          ],\n          maxBoundsViscosity: 0.8,\n          preferCanvas: true,\n          zoomControl: true,\n          scrollWheelZoom: true,\n          dragging: true,\n          doubleClickZoom: true,\n          children: [/*#__PURE__*/_jsxDEV(MapEvents, {\n            onClick: handleMapClick\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 871,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(MapResizer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 872,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TileLayer, {\n            url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n            attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n            maxNativeZoom: 19,\n            maxZoom: 19,\n            keepBuffer: 8,\n            updateWhenZooming: false,\n            updateWhenIdle: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 873,\n            columnNumber: 15\n          }, this), gameState.selectedLocation && /*#__PURE__*/_jsxDEV(Marker, {\n            position: gameState.selectedLocation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 883,\n            columnNumber: 17\n          }, this), gameState.pastGuesses.map((guess, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Marker, {\n              position: guess.actual,\n              icon: new L.Icon({\n                iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',\n                iconSize: [25, 41],\n                iconAnchor: [12, 41]\n              }),\n              children: /*#__PURE__*/_jsxDEV(Popup, {\n                children: [\"Round \", guess.round]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 895,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 887,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Marker, {\n              position: guess.guessed,\n              children: /*#__PURE__*/_jsxDEV(Popup, {\n                children: [\"Your guess (Round \", guess.round, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 898,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 897,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Polyline, {\n              positions: [guess.guessed, guess.actual],\n              color: \"#FF4444\",\n              weight: 2,\n              opacity: 0.5\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 900,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 886,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 854,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 844,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ScoreOverlay, {\n        isVisible: gameState.showingResult,\n        children: [/*#__PURE__*/_jsxDEV(ResultInfo, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Round \", gameState.currentRound, \" Result\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 913,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Distance: \", gameState.lastGuessDistance, \" feet\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 914,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ScoreText, {\n            score: gameState.lastGuessScore,\n            children: [\"+\", gameState.lastGuessScore, \" points\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 915,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Total Score: \", gameState.score]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 918,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 912,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ResultMapContainer, {\n          children: /*#__PURE__*/_jsxDEV(MapContainer, {\n            center: gameState.locations[gameState.currentRound - 1].coordinates,\n            zoom: 16,\n            style: {\n              height: '100%',\n              width: '100%'\n            },\n            maxZoom: 19,\n            minZoom: 14,\n            preferCanvas: true,\n            children: [/*#__PURE__*/_jsxDEV(MapResizer, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 930,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TileLayer, {\n              url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n              attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n              maxNativeZoom: 19,\n              maxZoom: 19,\n              keepBuffer: 8,\n              updateWhenZooming: false,\n              updateWhenIdle: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 931,\n              columnNumber: 17\n            }, this), gameState.selectedLocation && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Marker, {\n                position: gameState.selectedLocation,\n                children: /*#__PURE__*/_jsxDEV(Popup, {\n                  children: \"Your guess\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 943,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 942,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Marker, {\n                position: gameState.locations[gameState.currentRound - 1].coordinates,\n                icon: new L.Icon({\n                  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',\n                  iconSize: [25, 41],\n                  iconAnchor: [12, 41]\n                }),\n                children: /*#__PURE__*/_jsxDEV(Popup, {\n                  children: \"Actual location\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 953,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 945,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Polyline, {\n                positions: [gameState.selectedLocation, gameState.locations[gameState.currentRound - 1].coordinates],\n                color: \"#FF4444\",\n                weight: 3,\n                opacity: 0.8\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 955,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 922,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 921,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleNextRound,\n          children: \"Next Round\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 969,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 911,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(GuessButton, {\n        onClick: gameState.showingResult ? handleNextRound : handleGuess,\n        disabled: !gameState.showingResult && !gameState.selectedLocation,\n        children: gameState.showingResult ? 'Next Round' : 'Confirm Guess'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 974,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 778,\n    columnNumber: 5\n  }, this);\n};\n_s3(Game, \"JNEwpWU9XC1jomIjqqKq8LPBc8w=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c23 = Game;\nexport default Game;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23;\n$RefreshReg$(_c, \"Button\");\n$RefreshReg$(_c2, \"GameContainer\");\n$RefreshReg$(_c3, \"Timer\");\n$RefreshReg$(_c4, \"GameStats\");\n$RefreshReg$(_c5, \"Header\");\n$RefreshReg$(_c6, \"CloseButton\");\n$RefreshReg$(_c7, \"MapWrapper\");\n$RefreshReg$(_c8, \"ImageViewer\");\n$RefreshReg$(_c9, \"ScoreOverlay\");\n$RefreshReg$(_c10, \"ResultInfo\");\n$RefreshReg$(_c11, \"ResultMapContainer\");\n$RefreshReg$(_c12, \"ScoreText\");\n$RefreshReg$(_c13, \"UserModal\");\n$RefreshReg$(_c14, \"UserForm\");\n$RefreshReg$(_c15, \"Input\");\n$RefreshReg$(_c16, \"GameEndScreen\");\n$RefreshReg$(_c17, \"EndScreenContent\");\n$RefreshReg$(_c18, \"ButtonGroup\");\n$RefreshReg$(_c19, \"NavigationButton\");\n$RefreshReg$(_c20, \"GuessButton\");\n$RefreshReg$(_c21, \"MapEvents\");\n$RefreshReg$(_c22, \"MapResizer\");\n$RefreshReg$(_c23, \"Game\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","MapContainer","TileLayer","Marker","Popup","useMap","Polyline","styled","keyframes","L","ImageViewer360","jsxDEV","_jsxDEV","Fragment","_Fragment","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","fadeIn","slideUp","Button","button","_c","GameContainer","div","_c2","Timer","_c3","GameStats","_c4","Header","_c5","CloseButton","_c6","MapWrapper","props","isExpanded","_c7","ImageViewer","_c8","ScoreOverlay","isVisible","_c9","ResultInfo","_c10","ResultMapContainer","_c11","ScoreText","_c12","UserModal","_c13","UserForm","_c14","Input","input","_c15","GameEndScreen","_c16","EndScreenContent","_c17","ButtonGroup","_c18","NavigationButton","_c19","GuessButton","_c20","MapEvents","onClick","_s","map","on","off","_c21","MapResizer","_s2","resizeObserver","ResizeObserver","invalidateSize","container","getContainer","observe","disconnect","_c22","sampleLocations","image","coordinates","Game","_s3","mode","navigate","gameState","setGameState","currentRound","score","selectedLocation","timeRemaining","locations","showingResult","lastGuessScore","lastGuessDistance","pastGuesses","username","localStorage","getItem","showUsernameModal","gameEnded","isMapExpanded","setIsMapExpanded","prev","handleUsernameSubmit","event","preventDefault","currentTarget","elements","namedItem","value","trim","setItem","submitScore","finalScore","leaderboardEntry","timestamp","Date","now","existingLeaderboard","JSON","parse","push","sortedLeaderboard","sort","a","b","filter","entry","index","self","findIndex","t","slice","stringify","handleMapClick","e","latlng","lat","lng","calculateDistance","point1","point2","R","φ1","Math","PI","φ2","Δφ","Δλ","sin","cos","c","atan2","sqrt","handleGuess","currentLocation","distance","points","pow","max","round","newGuess","guessed","actual","Number","toFixed","handleNextRound","timer","clearInterval","setInterval","handleMapToggle","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","name","placeholder","maxLength","required","className","floor","toString","padStart","objPath","stopPropagation","style","opacity","center","zoom","height","width","maxZoom","minZoom","maxBounds","maxBoundsViscosity","preferCanvas","zoomControl","scrollWheelZoom","dragging","doubleClickZoom","url","attribution","maxNativeZoom","keepBuffer","updateWhenZooming","updateWhenIdle","position","guess","icon","iconSize","iconAnchor","positions","color","weight","disabled","_c23","$RefreshReg$"],"sources":["/Users/nate/Programming/UDelaWhere/src/components/Game.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { MapContainer, TileLayer, Marker, Popup, useMap, useMapEvent, useMapEvents, Polyline } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport styled, { keyframes } from 'styled-components';\nimport L from 'leaflet';\nimport ImageViewer360 from './ImageViewer360';\n\n// Fix for default marker icons in React-Leaflet\ndelete (L.Icon.Default.prototype as any)._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\n});\n\nconst fadeIn = keyframes`\n  from { opacity: 0; }\n  to { opacity: 1; }\n`;\n\nconst slideUp = keyframes`\n  from { transform: translateY(20px); opacity: 0; }\n  to { transform: translateY(0); opacity: 1; }\n`;\n\nconst Button = styled.button`\n  padding: 16px 40px;\n  background: #FFD200;\n  color: #00539F;\n  border: none;\n  border-radius: 30px;\n  cursor: pointer;\n  font-size: 18px;\n  font-weight: 700;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  box-shadow: 0 4px 20px rgba(255, 210, 0, 0.3);\n\n  &:hover:not(:disabled) {\n    background: #FFE04C;\n    transform: translateY(-2px);\n    box-shadow: 0 8px 30px rgba(255, 210, 0, 0.4);\n  }\n\n  &:disabled {\n    background: rgba(255, 255, 255, 0.1);\n    color: rgba(255, 255, 255, 0.4);\n    cursor: not-allowed;\n    transform: none;\n    box-shadow: none;\n  }\n`;\n\nconst GameContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: #001B3D;\n  color: white;\n  font-family: 'Proxima Nova', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n  position: relative;\n`;\n\nconst Timer = styled.div`\n  position: fixed;\n  top: 100px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: rgba(0, 27, 61, 0.85);\n  padding: 15px 30px;\n  border-radius: 20px;\n  border: 2px solid rgba(255, 210, 0, 0.3);\n  backdrop-filter: blur(10px);\n  z-index: 1001;\n  animation: ${fadeIn} 0.5s ease-out;\n  text-align: center;\n  pointer-events: none;\n  \n  .time {\n    font-size: 2.5em;\n    font-weight: 800;\n    color: #FFD200;\n    letter-spacing: 2px;\n    text-shadow: 0 2px 4px rgba(0,0,0,0.3);\n  }\n  \n  .label {\n    font-size: 0.9em;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    opacity: 0.8;\n    margin-bottom: 5px;\n  }\n`;\n\nconst GameStats = styled.div`\n  position: fixed;\n  top: 100px;\n  right: 40px;\n  background: rgba(0, 27, 61, 0.85);\n  padding: 15px 30px;\n  border-radius: 20px;\n  border: 2px solid rgba(255, 210, 0, 0.3);\n  backdrop-filter: blur(10px);\n  z-index: 1001;\n  animation: ${fadeIn} 0.5s ease-out;\n  pointer-events: none;\n\n  .stat {\n    text-align: right;\n    margin: 8px 0;\n  }\n\n  .label {\n    font-size: 0.9em;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    opacity: 0.8;\n  }\n\n  .value {\n    font-size: 1.4em;\n    font-weight: 800;\n    color: #FFD200;\n    letter-spacing: 1px;\n    text-shadow: 0 2px 4px rgba(0,0,0,0.3);\n  }\n`;\n\nconst Header = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 80px;\n  background: linear-gradient(to bottom, rgba(0,27,61,0.95) 0%, rgba(0,27,61,0) 100%);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 40px;\n  z-index: 2500;\n  pointer-events: auto;\n\n  h1 {\n    color: #FFD200;\n    font-size: 28px;\n    font-weight: 700;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    margin: 0;\n    text-shadow: 0 2px 4px rgba(0,0,0,0.5);\n    animation: ${fadeIn} 0.5s ease-out;\n    cursor: pointer;\n  }\n\n  nav {\n    display: flex;\n    gap: 30px;\n    align-items: center;\n  }\n\n  a {\n    color: white;\n    text-decoration: none;\n    font-size: 18px;\n    font-weight: 600;\n    transition: color 0.3s ease;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    cursor: pointer;\n\n    &:hover {\n      color: #FFD200;\n    }\n  }\n`;\n\nconst CloseButton = styled.button`\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  width: 32px;\n  height: 32px;\n  background: rgba(0, 27, 61, 0.85);\n  border: none;\n  border-radius: 50%;\n  color: white;\n  font-size: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  opacity: 0;\n  transform: translateX(20px);\n  transition: all 0.3s ease;\n  z-index: 1002;\n  backdrop-filter: blur(5px);\n\n  &:hover {\n    background: #00539F;\n  }\n`;\n\nconst MapWrapper = styled.div<{ isExpanded: boolean }>`\n  position: fixed;\n  bottom: 120px;\n  right: 40px;\n  width: ${props => props.isExpanded ? 'calc(100% - 80px)' : '400px'};\n  height: ${props => props.isExpanded ? 'calc(100vh - 300px)' : '250px'};\n  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n  z-index: 1000;\n  border-radius: 12px;\n  overflow: hidden;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n  transform-origin: bottom right;\n  border: 2px solid ${props => props.isExpanded ? '#FFD200' : 'rgba(255, 210, 0, 0.3)'};\n\n  &:hover {\n    width: calc(100% - 80px);\n    height: calc(100vh - 300px);\n    transform: scale(1);\n    border-color: #FFD200;\n\n    ${CloseButton}, .leaflet-control-zoom {\n      opacity: 1;\n      transform: translateX(0);\n    }\n  }\n\n  .leaflet-container {\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n    background: #1a1a1a;\n  }\n\n  .leaflet-control-container {\n    z-index: 2;\n  }\n\n  .leaflet-control-zoom {\n    margin: 15px;\n    opacity: 0;\n    transform: translateX(20px);\n    transition: all 0.3s ease;\n    \n    a {\n      background: rgba(0, 83, 159, 0.9);\n      color: white;\n      border: none;\n      \n      &:hover {\n        background: #00539F;\n      }\n    }\n  }\n`;\n\nconst ImageViewer = styled.div`\n  flex: 1;\n  background: #000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  overflow: hidden;\n  pointer-events: auto;\n\n  &:after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 200px;\n    background: linear-gradient(to top, rgba(0,27,61,0.9) 0%, rgba(0,27,61,0) 100%);\n    pointer-events: none;\n  }\n`;\n\nconst ScoreOverlay = styled.div<{ isVisible: boolean }>`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 27, 61, 0.98);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  opacity: ${props => props.isVisible ? 1 : 0};\n  visibility: ${props => props.isVisible ? 'visible' : 'hidden'};\n  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n  z-index: 2000;\n  padding: 40px;\n  backdrop-filter: blur(10px);\n`;\n\nconst ResultInfo = styled.div`\n  text-align: center;\n  color: white;\n  margin-bottom: 30px;\n  animation: ${slideUp} 0.5s ease-out;\n\n  h2 {\n    color: #FFD200;\n    font-size: 3em;\n    margin-bottom: 0.5em;\n    font-weight: 800;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);\n  }\n\n  p {\n    font-size: 1.4em;\n    margin: 0.8em 0;\n    opacity: 0.9;\n  }\n`;\n\nconst ResultMapContainer = styled.div`\n  width: 85%;\n  height: 65%;\n  margin: 30px 0;\n  border-radius: 16px;\n  overflow: hidden;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);\n  border: 3px solid #FFD200;\n  animation: ${slideUp} 0.7s ease-out;\n  position: relative;\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 100px;\n    background: linear-gradient(to bottom, rgba(0,83,159,0.4) 0%, rgba(0,83,159,0) 100%);\n    pointer-events: none;\n    z-index: 1;\n  }\n`;\n\nconst ScoreText = styled.div<{ score: number }>`\n  font-size: 3.5em;\n  font-weight: 800;\n  color: #FFD200;\n  margin: 25px 0;\n  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);\n  animation: ${fadeIn} 0.8s ease-out;\n  letter-spacing: 2px;\n`;\n\nconst UserModal = styled.div<{ isVisible: boolean }>`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 27, 61, 0.98);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  opacity: ${props => props.isVisible ? 1 : 0};\n  visibility: ${props => props.isVisible ? 'visible' : 'hidden'};\n  transition: all 0.3s ease;\n  z-index: 3000;\n  backdrop-filter: blur(10px);\n`;\n\nconst UserForm = styled.div`\n  background: rgba(255, 255, 255, 0.05);\n  padding: 40px;\n  border-radius: 16px;\n  text-align: center;\n  animation: ${fadeIn} 0.5s ease-out;\n  border: 2px solid rgba(255, 210, 0, 0.3);\n  max-width: 400px;\n  width: 90%;\n\n  h2 {\n    color: #FFD200;\n    font-size: 2em;\n    margin-bottom: 1em;\n  }\n\n  p {\n    margin-bottom: 2em;\n    opacity: 0.8;\n    line-height: 1.6;\n  }\n`;\n\nconst Input = styled.input`\n  width: 100%;\n  padding: 12px 20px;\n  margin-bottom: 20px;\n  border: 2px solid rgba(255, 210, 0, 0.3);\n  border-radius: 8px;\n  background: rgba(255, 255, 255, 0.1);\n  color: white;\n  font-size: 16px;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: #FFD200;\n    background: rgba(255, 255, 255, 0.15);\n  }\n\n  &::placeholder {\n    color: rgba(255, 255, 255, 0.5);\n  }\n`;\n\nconst GameEndScreen = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 27, 61, 0.98);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 3000;\n  backdrop-filter: blur(10px);\n`;\n\nconst EndScreenContent = styled.div`\n  text-align: center;\n  animation: ${slideUp} 0.7s ease-out;\n  max-width: 600px;\n  width: 90%;\n  padding: 40px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 20px;\n  border: 2px solid rgba(255, 210, 0, 0.3);\n\n  h1 {\n    color: #FFD200;\n    font-size: 3.5em;\n    margin-bottom: 0.5em;\n    font-weight: 800;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);\n  }\n\n  p {\n    font-size: 1.4em;\n    margin: 0.8em 0;\n    opacity: 0.9;\n    color: white;\n  }\n`;\n\nconst ButtonGroup = styled.div`\n  display: flex;\n  gap: 20px;\n  margin-top: 40px;\n  justify-content: center;\n`;\n\nconst NavigationButton = styled(Button)`\n  min-width: 200px;\n`;\n\nconst GuessButton = styled(Button)`\n  position: fixed;\n  bottom: 40px;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 18px 50px;\n  font-size: 20px;\n  z-index: 999;\n  background: rgba(255, 210, 0, 0.9);\n  backdrop-filter: blur(10px);\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover:not(:disabled) {\n    background: #FFD200;\n    transform: translateX(-50%) translateY(-4px);\n    box-shadow: 0 8px 30px rgba(255, 210, 0, 0.4);\n  }\n\n  &:disabled {\n    background: rgba(255, 255, 255, 0.1);\n    transform: translateX(-50%);\n  }\n`;\n\ninterface LeaderboardEntry {\n  username: string;\n  score: number;\n  timestamp: number;\n}\n\ninterface GameState {\n  currentRound: number;\n  score: number;\n  selectedLocation: [number, number] | null;\n  timeRemaining: number | null;\n  locations: Array<{\n    image: string;\n    coordinates: [number, number];\n  }>;\n  showingResult: boolean;\n  lastGuessScore: number;\n  lastGuessDistance: number;\n  pastGuesses: Array<{\n    guessed: [number, number];\n    actual: [number, number];\n    round: number;\n  }>;\n  username: string | null;\n  showUsernameModal: boolean;\n  gameEnded: boolean;\n}\n\n// Add this new component for handling map clicks\nconst MapEvents: React.FC<{ onClick: (e: L.LeafletMouseEvent) => void }> = ({ onClick }) => {\n  const map = useMap();\n  useEffect(() => {\n    map.on('click', onClick);\n    return () => {\n      map.off('click', onClick);\n    };\n  }, [map, onClick]);\n  return null;\n};\n\n// Add this new hook for handling map resize\nconst MapResizer: React.FC = () => {\n  const map = useMap();\n  \n  useEffect(() => {\n    const resizeObserver = new ResizeObserver(() => {\n      map.invalidateSize();\n    });\n    \n    const container = map.getContainer();\n    resizeObserver.observe(container);\n    \n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [map]);\n\n  return null;\n};\n\n// Update this with your actual OBJ file path and coordinates\nconst sampleLocations: Array<{ image: string; coordinates: [number, number] }> = [\n  {\n    image: '/locations/2_27_2025/skybox/',\n    coordinates: [39.686757, -75.755243] // Memorial Hall\n  },\n  {\n    image: '/locations/2_27_2025/skybox/',\n    coordinates: [39.686757, -75.755243] // Memorial Hall\n  },\n  {\n    image: '/locations/2_27_2025/skybox/',\n    coordinates: [39.686757, -75.755243] // Memorial Hall\n  },\n  {\n    image: '/locations/2_27_2025/skybox/',\n    coordinates: [39.686757, -75.755243] // Memorial Hall\n  },\n  {\n    image: '/locations/2_27_2025/skybox/',\n    coordinates: [39.686757, -75.755243] // Memorial Hall\n  }\n];\n\nconst Game: React.FC = () => {\n  const { mode } = useParams();\n  const navigate = useNavigate();\n  const [gameState, setGameState] = useState<GameState>({\n    currentRound: 1,\n    score: 0,\n    selectedLocation: null,\n    timeRemaining: mode === 'challenge' ? 120 : null,\n    locations: sampleLocations,\n    showingResult: false,\n    lastGuessScore: 0,\n    lastGuessDistance: 0,\n    pastGuesses: [],\n    username: localStorage.getItem('username'),\n    showUsernameModal: false,\n    gameEnded: false\n  });\n\n  const [isMapExpanded, setIsMapExpanded] = useState(false);\n\n  useEffect(() => {\n    // Check if we need to show the username modal\n    if (mode === 'challenge' && !gameState.username) {\n      setGameState(prev => ({ ...prev, showUsernameModal: true }));\n    }\n  }, [mode, gameState.username]);\n\n  const handleUsernameSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const username = (event.currentTarget.elements.namedItem('username') as HTMLInputElement).value.trim();\n    if (username) {\n      localStorage.setItem('username', username);\n      setGameState(prev => ({ \n        ...prev, \n        username,\n        showUsernameModal: false \n      }));\n    }\n  };\n\n  const submitScore = (finalScore: number) => {\n    if (mode === 'challenge' && gameState.username) {\n      const leaderboardEntry: LeaderboardEntry = {\n        username: gameState.username,\n        score: finalScore,\n        timestamp: Date.now()\n      };\n\n      // Get existing leaderboard\n      const existingLeaderboard = JSON.parse(localStorage.getItem('leaderboard') || '[]');\n      \n      // Add new score\n      existingLeaderboard.push(leaderboardEntry);\n      \n      // Sort by score (highest first)\n      const sortedLeaderboard = existingLeaderboard\n        .sort((a: LeaderboardEntry, b: LeaderboardEntry) => b.score - a.score)\n        // Remove duplicates (keep highest score for each user)\n        .filter((entry: LeaderboardEntry, index: number, self: LeaderboardEntry[]) =>\n          index === self.findIndex((t) => t.username === entry.username)\n        )\n        .slice(0, 10);\n\n      // Save back to localStorage\n      localStorage.setItem('leaderboard', JSON.stringify(sortedLeaderboard));\n    }\n  };\n\n  const handleMapClick = (e: L.LeafletMouseEvent) => {\n    if (!gameState.showingResult) {\n      setGameState(prev => ({\n        ...prev,\n        selectedLocation: [e.latlng.lat, e.latlng.lng],\n      }));\n    }\n  };\n\n  const calculateDistance = (point1: [number, number], point2: [number, number]): number => {\n    const R = 3959; // Earth's radius in miles\n    const φ1 = point1[0] * Math.PI / 180;\n    const φ2 = point2[0] * Math.PI / 180;\n    const Δφ = (point2[0] - point1[0]) * Math.PI / 180;\n    const Δλ = (point2[1] - point1[1]) * Math.PI / 180;\n\n    const a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +\n              Math.cos(φ1) * Math.cos(φ2) *\n              Math.sin(Δλ/2) * Math.sin(Δλ/2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n\n    // Return distance in feet (multiply miles by 5280)\n    return R * c * 5280;\n  };\n\n  const handleGuess = () => {\n    if (!gameState.selectedLocation) return;\n\n    const currentLocation = gameState.locations[gameState.currentRound - 1];\n    const distance = calculateDistance(gameState.selectedLocation, currentLocation.coordinates);\n    \n    // Super generous scoring formula with feet measurements:\n    // - Extremely close (< 50 feet): 4900-5000 points\n    // - Very close (< 100 feet): 4500-4900 points\n    // - Close (< 200 feet): 4000-4500 points\n    // - Nearby (< 500 feet): 3000-4000 points\n    // - In the area (< 1000 feet): 2000-3000 points\n    // - Far but trying (any distance): 1000 points minimum\n    let points = 1000; // Minimum points for trying - increased base points\n    \n    if (distance <= 1000) {\n      if (distance <= 50) {\n        // Super generous curve for very close guesses\n        points = 4900 + (100 * Math.pow(1 - (distance / 50), 1.2));\n      } else if (distance <= 100) {\n        points = 4500 + (400 * (1 - Math.pow((distance - 50) / 50, 1.2)));\n      } else if (distance <= 200) {\n        points = 4000 + (500 * (1 - Math.pow((distance - 100) / 100, 1.2)));\n      } else if (distance <= 500) {\n        points = 3000 + (1000 * (1 - Math.pow((distance - 200) / 300, 1.2)));\n      } else {\n        points = 2000 + (1000 * (1 - Math.pow((distance - 500) / 500, 1.2)));\n      }\n    }\n    \n    points = Math.max(1000, Math.round(points));\n\n    const newGuess = {\n      guessed: gameState.selectedLocation as [number, number],\n      actual: currentLocation.coordinates,\n      round: gameState.currentRound\n    };\n\n    setGameState(prev => ({\n      ...prev,\n      score: prev.score + points,\n      showingResult: true,\n      lastGuessScore: points,\n      lastGuessDistance: Number(distance.toFixed(0)),\n      pastGuesses: [...prev.pastGuesses, newGuess]\n    }));\n  };\n\n  const handleNextRound = () => {\n    if (gameState.currentRound === 5) {\n      // Game is complete, submit score and show end screen\n      submitScore(gameState.score);\n      setGameState(prev => ({\n        ...prev,\n        gameEnded: true,\n        showingResult: false\n      }));\n      return;\n    }\n    \n    setGameState(prev => ({\n      ...prev,\n      currentRound: prev.currentRound + 1,\n      selectedLocation: null,\n      showingResult: false,\n      timeRemaining: mode === 'challenge' ? 120 : null\n    }));\n  };\n\n  useEffect(() => {\n    let timer: NodeJS.Timeout | undefined;\n    \n    if (mode === 'challenge' && gameState.timeRemaining !== null) {\n      // Clear any existing timer\n      if (timer) clearInterval(timer);\n      \n      timer = setInterval(() => {\n        setGameState(prev => {\n          if (prev.timeRemaining === null || prev.timeRemaining <= 0) {\n            clearInterval(timer);\n            // Auto-submit guess when time runs out\n            if (!prev.showingResult && prev.selectedLocation) {\n              handleGuess();\n            }\n            return prev;\n          }\n          return { ...prev, timeRemaining: prev.timeRemaining - 1 };\n        });\n      }, 1000);\n\n      return () => {\n        if (timer) clearInterval(timer);\n      };\n    }\n  }, [mode, gameState.currentRound, gameState.timeRemaining]);\n\n  const handleMapToggle = () => {\n    setIsMapExpanded(!isMapExpanded);\n  };\n\n  return (\n    <GameContainer>\n      {gameState.gameEnded ? (\n        <GameEndScreen>\n          <EndScreenContent>\n            <h1>Game Complete!</h1>\n            <p>Your Final Score: {gameState.score}</p>\n            <p>Maximum Possible: 25,000</p>\n            <p>Accuracy: {Math.round((gameState.score / 25000) * 100)}%</p>\n            <ButtonGroup>\n              <NavigationButton onClick={() => navigate('/')}>\n                Home\n              </NavigationButton>\n              <NavigationButton onClick={() => navigate('/leaderboard')}>\n                Leaderboard\n              </NavigationButton>\n            </ButtonGroup>\n          </EndScreenContent>\n        </GameEndScreen>\n      ) : (\n        <>\n          <UserModal isVisible={gameState.showUsernameModal}>\n            <UserForm>\n              <h2>Welcome to Challenge Mode</h2>\n              <p>Please enter your username to compete on the leaderboard.</p>\n              <form onSubmit={handleUsernameSubmit}>\n                <Input\n                  type=\"text\"\n                  name=\"username\"\n                  placeholder=\"Enter your username\"\n                  maxLength={20}\n                  required\n                />\n                <Button type=\"submit\">Start Game</Button>\n              </form>\n            </UserForm>\n          </UserModal>\n          <Header>\n            <h1 onClick={() => navigate('/')}>Campus Guesser</h1>\n            <nav>\n              <a onClick={() => navigate('/about')}>About</a>\n              <a onClick={() => navigate('/leaderboard')}>Leaderboard</a>\n            </nav>\n          </Header>\n          {mode === 'challenge' && gameState.timeRemaining !== null && (\n            <Timer>\n              <div className=\"label\">Time Remaining</div>\n              <div className=\"time\">\n                {Math.floor(gameState.timeRemaining / 60)}:\n                {(gameState.timeRemaining % 60).toString().padStart(2, '0')}\n              </div>\n            </Timer>\n          )}\n          <GameStats>\n            <div className=\"stat\">\n              <div className=\"label\">Round</div>\n              <div className=\"value\">{gameState.currentRound}/5</div>\n            </div>\n            <div className=\"stat\">\n              <div className=\"label\">Total Score</div>\n              <div className=\"value\">{gameState.score}</div>\n            </div>\n          </GameStats>\n          <ImageViewer>\n            <ImageViewer360 objPath={gameState.locations[gameState.currentRound - 1].image} />\n          </ImageViewer>\n\n          <MapWrapper isExpanded={isMapExpanded}>\n            <CloseButton \n              onClick={(e) => {\n                e.stopPropagation();\n                handleMapToggle();\n              }}\n              style={{ opacity: isMapExpanded ? 1 : 0 }}\n            >\n              ×\n            </CloseButton>\n            <MapContainer\n              center={[39.686757, -75.755243] as [number, number]}\n              zoom={15}\n              style={{ height: '100%', width: '100%' }}\n              maxZoom={19}\n              minZoom={13}\n              maxBounds={[\n                [39.666, -75.78],  // Expanded southwest corner\n                [39.706, -75.73]   // Expanded northeast corner\n              ]}\n              maxBoundsViscosity={0.8}\n              preferCanvas={true}\n              zoomControl={true}\n              scrollWheelZoom={true}\n              dragging={true}\n              doubleClickZoom={true}\n            >\n              <MapEvents onClick={handleMapClick} />\n              <MapResizer />\n              <TileLayer\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n                maxNativeZoom={19}\n                maxZoom={19}\n                keepBuffer={8}\n                updateWhenZooming={false}\n                updateWhenIdle={true}\n              />\n              {gameState.selectedLocation && (\n                <Marker position={gameState.selectedLocation} />\n              )}\n              {gameState.pastGuesses.map((guess, index) => (\n                <React.Fragment key={index}>\n                  <Marker \n                    position={guess.actual}\n                    icon={new L.Icon({\n                      iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',\n                      iconSize: [25, 41],\n                      iconAnchor: [12, 41]\n                    })}\n                  >\n                    <Popup>Round {guess.round}</Popup>\n                  </Marker>\n                  <Marker position={guess.guessed}>\n                    <Popup>Your guess (Round {guess.round})</Popup>\n                  </Marker>\n                  <Polyline \n                    positions={[guess.guessed, guess.actual]}\n                    color=\"#FF4444\"\n                    weight={2}\n                    opacity={0.5}\n                  />\n                </React.Fragment>\n              ))}\n            </MapContainer>\n          </MapWrapper>\n\n          <ScoreOverlay isVisible={gameState.showingResult}>\n            <ResultInfo>\n              <h2>Round {gameState.currentRound} Result</h2>\n              <p>Distance: {gameState.lastGuessDistance} feet</p>\n              <ScoreText score={gameState.lastGuessScore}>\n                +{gameState.lastGuessScore} points\n              </ScoreText>\n              <p>Total Score: {gameState.score}</p>\n            </ResultInfo>\n            \n            <ResultMapContainer>\n              <MapContainer\n                center={gameState.locations[gameState.currentRound - 1].coordinates}\n                zoom={16}\n                style={{ height: '100%', width: '100%' }}\n                maxZoom={19}\n                minZoom={14}\n                preferCanvas={true}\n              >\n                <MapResizer />\n                <TileLayer\n                  url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                  attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n                  maxNativeZoom={19}\n                  maxZoom={19}\n                  keepBuffer={8}\n                  updateWhenZooming={false}\n                  updateWhenIdle={true}\n                />\n                {gameState.selectedLocation && (\n                  <>\n                    <Marker position={gameState.selectedLocation}>\n                      <Popup>Your guess</Popup>\n                    </Marker>\n                    <Marker \n                      position={gameState.locations[gameState.currentRound - 1].coordinates}\n                      icon={new L.Icon({\n                        iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',\n                        iconSize: [25, 41],\n                        iconAnchor: [12, 41]\n                      })}\n                    >\n                      <Popup>Actual location</Popup>\n                    </Marker>\n                    <Polyline \n                      positions={[\n                        gameState.selectedLocation,\n                        gameState.locations[gameState.currentRound - 1].coordinates\n                      ]}\n                      color=\"#FF4444\"\n                      weight={3}\n                      opacity={0.8}\n                    />\n                  </>\n                )}\n              </MapContainer>\n            </ResultMapContainer>\n            \n            <Button onClick={handleNextRound}>\n              Next Round\n            </Button>\n          </ScoreOverlay>\n\n          <GuessButton\n            onClick={gameState.showingResult ? handleNextRound : handleGuess}\n            disabled={!gameState.showingResult && !gameState.selectedLocation}\n          >\n            {gameState.showingResult ? 'Next Round' : 'Confirm Guess'}\n          </GuessButton>\n        </>\n      )}\n    </GameContainer>\n  );\n};\n\nexport default Game; "],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,SAASC,YAAY,EAAEC,SAAS,EAAEC,MAAM,EAAEC,KAAK,EAAEC,MAAM,EAA6BC,QAAQ,QAAQ,eAAe;AACnH,OAAO,0BAA0B;AACjC,OAAOC,MAAM,IAAIC,SAAS,QAAQ,mBAAmB;AACrD,OAAOC,CAAC,MAAM,SAAS;AACvB,OAAOC,cAAc,MAAM,kBAAkB;;AAE7C;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,OAAQL,CAAC,CAACM,IAAI,CAACC,OAAO,CAACC,SAAS,CAASC,WAAW;AACpDT,CAAC,CAACM,IAAI,CAACC,OAAO,CAACG,YAAY,CAAC;EAC1BC,aAAa,EAAEC,OAAO,CAAC,wCAAwC,CAAC;EAChEC,OAAO,EAAED,OAAO,CAAC,qCAAqC,CAAC;EACvDE,SAAS,EAAEF,OAAO,CAAC,uCAAuC;AAC5D,CAAC,CAAC;AAEF,MAAMG,MAAM,GAAGhB,SAAS;AACxB;AACA;AACA,CAAC;AAED,MAAMiB,OAAO,GAAGjB,SAAS;AACzB;AACA;AACA,CAAC;AAED,MAAMkB,MAAM,GAAGnB,MAAM,CAACoB,MAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GA3BIF,MAAM;AA6BZ,MAAMG,aAAa,GAAGtB,MAAM,CAACuB,GAAG;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GARIF,aAAa;AAUnB,MAAMG,KAAK,GAAGzB,MAAM,CAACuB,GAAG;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAeN,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACS,GAAA,GA9BID,KAAK;AAgCX,MAAME,SAAS,GAAG3B,MAAM,CAACuB,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAeN,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACW,GAAA,GAhCID,SAAS;AAkCf,MAAME,MAAM,GAAG7B,MAAM,CAACuB,GAAG;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiBN,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACa,GAAA,GA9CID,MAAM;AAgDZ,MAAME,WAAW,GAAG/B,MAAM,CAACoB,MAAM;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACY,GAAA,GAxBID,WAAW;AA0BjB,MAAME,UAAU,GAAGjC,MAAM,CAACuB,GAA4B;AACtD;AACA;AACA;AACA,WAAWW,KAAK,IAAIA,KAAK,CAACC,UAAU,GAAG,mBAAmB,GAAG,OAAO;AACpE,YAAYD,KAAK,IAAIA,KAAK,CAACC,UAAU,GAAG,qBAAqB,GAAG,OAAO;AACvE;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsBD,KAAK,IAAIA,KAAK,CAACC,UAAU,GAAG,SAAS,GAAG,wBAAwB;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMJ,WAAW;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACK,GAAA,GArDIH,UAAU;AAuDhB,MAAMI,WAAW,GAAGrC,MAAM,CAACuB,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACe,GAAA,GApBID,WAAW;AAsBjB,MAAME,YAAY,GAAGvC,MAAM,CAACuB,GAA2B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAaW,KAAK,IAAIA,KAAK,CAACM,SAAS,GAAG,CAAC,GAAG,CAAC;AAC7C,gBAAgBN,KAAK,IAAIA,KAAK,CAACM,SAAS,GAAG,SAAS,GAAG,QAAQ;AAC/D;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAjBIF,YAAY;AAmBlB,MAAMG,UAAU,GAAG1C,MAAM,CAACuB,GAAG;AAC7B;AACA;AACA;AACA,eAAeL,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACyB,IAAA,GArBID,UAAU;AAuBhB,MAAME,kBAAkB,GAAG5C,MAAM,CAACuB,GAAG;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAeL,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC2B,IAAA,GAtBID,kBAAkB;AAwBxB,MAAME,SAAS,GAAG9C,MAAM,CAACuB,GAAsB;AAC/C;AACA;AACA;AACA;AACA;AACA,eAAeN,MAAM;AACrB;AACA,CAAC;AAAC8B,IAAA,GARID,SAAS;AAUf,MAAME,SAAS,GAAGhD,MAAM,CAACuB,GAA2B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAaW,KAAK,IAAIA,KAAK,CAACM,SAAS,GAAG,CAAC,GAAG,CAAC;AAC7C,gBAAgBN,KAAK,IAAIA,KAAK,CAACM,SAAS,GAAG,SAAS,GAAG,QAAQ;AAC/D;AACA;AACA;AACA,CAAC;AAACS,IAAA,GAhBID,SAAS;AAkBf,MAAME,QAAQ,GAAGlD,MAAM,CAACuB,GAAG;AAC3B;AACA;AACA;AACA;AACA,eAAeN,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACkC,IAAA,GArBID,QAAQ;AAuBd,MAAME,KAAK,GAAGpD,MAAM,CAACqD,KAAK;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GApBIF,KAAK;AAsBX,MAAMG,aAAa,GAAGvD,MAAM,CAACuB,GAAG;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACiC,IAAA,GAbID,aAAa;AAenB,MAAME,gBAAgB,GAAGzD,MAAM,CAACuB,GAAG;AACnC;AACA,eAAeL,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACwC,IAAA,GA1BID,gBAAgB;AA4BtB,MAAME,WAAW,GAAG3D,MAAM,CAACuB,GAAG;AAC9B;AACA;AACA;AACA;AACA,CAAC;AAACqC,IAAA,GALID,WAAW;AAOjB,MAAME,gBAAgB,GAAG7D,MAAM,CAACmB,MAAM,CAAC;AACvC;AACA,CAAC;AAAC2C,IAAA,GAFID,gBAAgB;AAItB,MAAME,WAAW,GAAG/D,MAAM,CAACmB,MAAM,CAAC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC6C,IAAA,GAtBID,WAAW;AAoDjB;AACA,MA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}